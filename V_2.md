# Vue实例

### 1.创建Vue实例

每个 Vue 应用都是通过 Vue 函数创建一个新的 Vue 实例开始的,当创建一个 Vue 实例时，你可以传入一个选项对象。这篇教程(官方文档)主要描述的就是如何使用这些选项来创建你想要的行为。作为参考，你也可以在 [API 文档](https://cn.vuejs.org/v2/api/#选项-数据) 中浏览完整的选项列表  

	var vm = new Vue({
  		// 选项
	})

### 2.数据与方法

先举个栗子

	// 我们的数据对象
	var data = { a: 1 }

	// 该对象被加入到一个 Vue 实例中
	var vm = new Vue({
  	data: data
	})

	// 他们引用相同的对象！
	vm.a === data.a // => true

	// 设置属性也会影响到原始数据
	vm.a = 2
	data.a // => 2

	// ... 反之亦然
	data.a = 3
	vm.a // => 3

当一个 Vue 实例(vm)被创建时，它向 Vue 的响应式系统中加入了其 data 对象(即数据对象data)中能找到的所有的属性。当这些属性的值发生改变时，视图将会产生“响应”，即匹配更新为新的值。

其实上述道理和 介绍 部分所述是一个道理

当这些数据改变时，视图会进行重渲染。值得注意的是只有当实例被创建时 data 中存在的属性是响应式的。也就是说如果你添加一个新的属性，像：
`vm.b = 'hi'`
那么对 b 的改动将不会触发任何视图的更新。如果你知道你会在晚些时候需要一个属性，但是一开始它为空或不存在，那么你仅需要设置一些初始值（占个位置）。  
比如：

	data: {
  		newTodoText: '',
  		visitCount: 0,
  		hideCompletedTodos: false,
  		todos: [],
  		error: null
	}


Vue 实例暴露了一些有用的实例属性与方法（Vue自带的）。它们都有前缀 $，以便与用户定义的属性区分开来。  
例如：

html:
	
	var data = { a: 1 }
	var vm = new Vue({
  		el: '#example',
  		data: data
	})

js:

	vm.$data === data // => true
	vm.$el === document.getElementById('example') // => true

	// $watch 是一个实例方法(定义在Vue.prototype)
	vm.$watch('a', function (newValue, oldValue) {
  		// 这个回调将在 `vm.a` 改变后调用
	})

属性和方法可通过在控制台输入 Vue实例化对象 以及Vue.prototype查看
也可在 [API 参考_属性](https://cn.vuejs.org/v2/api/#实例属性) 、 [API 参考_方法](https://cn.vuejs.org/v2/api/#实例方法-数据)查阅到完整的实例属性和方法的列表  

### 3.实例生命周期

每个 Vue 实例在被创建之前都要经过一系列的初始化过程。这个过程中也会运行一些叫做生命周期钩子的函数，给予用户机会在一些特定的场景下添加他们自己的代码。

比如 created 钩子可以用来在一个实例被创建之后执行代码：

	new Vue({
  		data: {
    		a: 1
  		},
  		created: function () {
    		// `this` 指向 vm 实例
    		console.log('a is: ' + this.a)
  		}
	})
	// a is: 1

不要在选项属性或回调上使用箭头函数，因为箭头函数是和父级上下文绑定在一起的，this 不会是如你所预期的指向 Vue 实例

### 4.生命周期图示

也有一些其它的钩子，在实例生命周期的不同场景下调用，如 mounted、updated、destroyed。钩子的 this 指向调用它的 Vue 实例。

图示：  
![](./images/P2_1.png)	